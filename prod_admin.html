<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module" src="auth-guard.js"></script>
    <title>Operating Stock Tracking System</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        :root {
            --primary-color: #0062cc;
            --secondary-color: #343a40;
            --light-bg: #f8f9fa;
            --border-color: #dee2e6;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            display: flex;
            min-height: 100vh;
        }
        
        .sidebar {
            width: 220px;
            background-color: var(--secondary-color);
            color: white;
            position: fixed;
            height: 100vh;
            left: 0;
            top: 0;
        }
        
        .sidebar-header {
            background-color: var(--primary-color);
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            min-height: 60px;
        }
        
        .sidebar-menu {
            margin-top: 20px;
        }
        
        .menu-header {
            padding: 15px;
            font-weight: bold;
            color: #adb5bd;
        }
        
        .menu-item {
            padding: 12px 15px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .menu-item.active {
            background-color: rgba(0, 123, 255, 0.5);
        }
        
        .content {
            flex: 1;
            margin-left: 220px;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 20px;
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        
        .dashboard-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .card {
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 20px;
            flex: 1;
            min-width: 250px;
        }
        
        .card-title {
            font-size: 16px;
            color: #495057;
            margin-bottom: 10px;
        }
        
        .card-value {
            font-size: 28px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .card-value.negative {
            color: var(--danger-color);
        }
        
        .card-footer {
            margin-top: 10px;
            font-size: 14px;
        }
        
        .trend-up {
            color: var(--success-color);
        }
        
        .trend-down {
            color: var(--danger-color);
        }
        
        .neutral {
            color: var(--primary-color);
        }
        
        .filters {
            background-color: white;
            padding: 15px;
            border-radius: 5px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        label {
            font-weight: 500;
        }
        
        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            min-width: 150px;
        }
        
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
        }
        
        button:hover {
            background-color: #0056b3;
        }
        
        .chart-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .chart-card {
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 20px;
            flex: 1;
            min-width: 300px;
        }
        
        .chart-title {
            font-size: 18px;
            color: #495057;
            margin-bottom: 15px;
        }
        
        .chart-area {
            position: relative;
            height: 300px;
        }
        
        .performance-bar {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .performance-label {
            width: 100px;
            font-weight: 500;
        }
        
        .performance-track {
            flex: 1;
            height: 20px;
            background-color: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 0 15px;
        }
        
        .performance-fill {
            height: 100%;
            border-radius: 10px;
        }
        
        .performance-fill.good {
            background-color: var(--success-color);
        }
        
        .performance-fill.average {
            background-color: var(--warning-color);
        }
        
        .performance-fill.poor {
            background-color: var(--danger-color);
        }
        
        .performance-value {
            font-weight: 500;
            width: 40px;
            text-align: right;
        }
        
        .table-container {
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 20px;
            overflow-x: auto;
            margin-bottom: 20px;
        }
        
        .table-title {
            font-size: 18px;
            color: #495057;
            margin-bottom: 15px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background-color: #f8f9fa;
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            color: #495057;
            border-bottom: 2px solid var(--border-color);
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        td.positive {
            color: var(--success-color);
            font-weight: 500;
        }
        
        td.negative {
            color: var(--danger-color);
            font-weight: 500;
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        #stockAnalysisPage .filters {
            margin-bottom: 20px;
        }
        
        .department-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .department-btn {
            padding: 6px 12px;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            background-color: white;
            cursor: pointer;
            font-size: 14px;
        }
        
        .department-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Responsive adjustments */
        @media (max-width: 1024px) {
            .dashboard-cards, .chart-container {
                flex-direction: column;
            }
            
            .card, .chart-card {
                min-width: 100%;
            }
        }
        
        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
                overflow: hidden;
            }
            
            .sidebar-header, .menu-header, .menu-item {
                padding: 15px 5px;
                text-align: center;
                font-size: 12px;
            }
            
            .content {
                margin-left: 70px;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">Operating Stock Tracking System</div>
        <div class="sidebar-menu">
            <div class="menu-header">Dashboard</div>
            <div class="menu-item active" data-page="overviewPage">Overview</div>
            <div class="menu-item" data-page="departmentReportsPage">Department Reports</div>
            <div class="menu-item" data-page="stockAnalysisPage">Stock Analysis</div>
            <div class="menu-item">Employee Stats</div>
            <div class="menu-item">Settings</div>
            
            <div class="menu-header">Admin Controls</div>
            <div class="menu-item">User Management</div>
            <div class="menu-item">System Logs</div>
        </div>
    </div>
    
    <div class="content">
        <div class="header">Operating Stock Tracking System - Admin Dashboard</div>
        
        <!-- Overview Page -->
        <div class="page active" id="overviewPage">
            <div class="dashboard-cards">
                <div class="card">
                    <div class="card-title">Total Stock Entries</div>
                    <div class="card-value">1,248</div>
                    <div class="card-footer trend-up">↑ 12% from last month</div>
                </div>
                
                <div class="card">
                    <div class="card-title">Average Stock Difference</div>
                    <div class="card-value negative">-4.2%</div>
                    <div class="card-footer trend-down">↓ 2.1% from target</div>
                </div>
                
                <div class="card">
                    <div class="card-title">Departments Reporting</div>
                    <div class="card-value">20/20</div>
                    <div class="card-footer trend-up">100% compliance</div>
                </div>
            </div>
            
            <div class="filters">
                <div class="filter-group">
                    <label for="dateRange">Date Range:</label>
                    <select id="dateRange">
                        <option>Last 30 days</option>
                        <option>Last 7 days</option>
                        <option>Today</option>
                        <option>Custom Range</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="department">Department:</label>
                    <select id="department">
                        <option>All Departments</option>
                        <option>LINE-5-1</option>
                        <option>LINE-5-2</option>
                        <option>LINE-7-1</option>
                        <option>LINE-7-3</option>
                        <option>LINE-7-5</option>
                    </select>
                </div>
                
                <button id="applyFilters">Apply Filters</button>
            </div>
            
            <div class="chart-container">
                <div class="chart-card">
                    <div class="chart-title">Stock Levels Trend</div>
                    <div class="chart-area">
                        <canvas id="stockTrendChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-card">
                    <div class="chart-title">Department Performance</div>
                    <div class="performance-bar">
                        <div class="performance-label">LINE-5-1</div>
                        <div class="performance-track">
                            <div class="performance-fill good" style="width: 85%"></div>
                        </div>
                        <div class="performance-value">85%</div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">LINE-5-2</div>
                        <div class="performance-track">
                            <div class="performance-fill good" style="width: 80%"></div>
                        </div>
                        <div class="performance-value">80%</div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">LINE-7-1</div>
                        <div class="performance-track">
                            <div class="performance-fill average" style="width: 75%"></div>
                        </div>
                        <div class="performance-value">75%</div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">LINE-7-3</div>
                        <div class="performance-track">
                            <div class="performance-fill average" style="width: 70%"></div>
                        </div>
                        <div class="performance-value">70%</div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">LINE-7-5</div>
                        <div class="performance-track">
                            <div class="performance-fill poor" style="width: 60%"></div>
                        </div>
                        <div class="performance-value">60%</div>
                    </div>
                </div>
            </div>
            
            <div class="table-container">
                <div class="table-title">Recent Stock Updates</div>
                <table>
                    <thead>
                        <tr>
                            <th>Department</th>
                            <th>Employee</th>
                            <th>Date & Time</th>
                            <th>Plan Stock</th>
                            <th>Actual Stock</th>
                            <th>Difference</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>LINE-5-2</td>
                            <td>John D. (ID: 1042)</td>
                            <td>May 15, 2025 10:00 AM</td>
                            <td>850</td>
                            <td>830</td>
                            <td class="negative">-20</td>
                        </tr>
                        <tr>
                            <td>LINE-7-1</td>
                            <td>Sarah L. (ID: 2386)</td>
                            <td>May 15, 2025 9:00 AM</td>
                            <td>925</td>
                            <td>925</td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td>LINE-5-7</td>
                            <td>Mike R. (ID: 1185)</td>
                            <td>May 15, 2025 8:00 AM</td>
                            <td>780</td>
                            <td>760</td>
                            <td class="negative">-20</td>
                        </tr>
                        <tr>
                            <td>LINE-7-9</td>
                            <td>Alex T. (ID: 3254)</td>
                            <td>May 14, 2025 5:00 PM</td>
                            <td>625</td>
                            <td>640</td>
                            <td class="positive">+15</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Department Reports Page -->
        <div class="page" id="departmentReportsPage">
            <div class="filters">
                <div class="filter-group">
                    <label for="reportDateRange">Date Range:</label>
                    <select id="reportDateRange">
                        <option>Today</option>
                        <option>Yesterday</option>
                        <option>Last 7 days</option>
                        <option>Last 30 days</option>
                        <option>Custom Range</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="reportTimeSlot">Time Slot:</label>
                    <select id="reportTimeSlot">
                        <option>All Time Slots</option>
                        <option>Morning (6:00 AM - 12:00 PM)</option>
                        <option>Afternoon (12:00 PM - 6:00 PM)</option>
                        <option>Evening (6:00 PM - 12:00 AM)</option>
                        <option>Night (12:00 AM - 6:00 AM)</option>
                    </select>
                </div>
                
                <button id="generateReport">Generate Report</button>
            </div>
            
            <div class="table-container">
                <div class="table-title">Department Reports - Time Slot Data</div>
                <table id="departmentReportTable">
                    <thead>
                        <tr>
                            <th>Department</th>
                            <th>Time Slot</th>
                            <th>Plan Stock</th>
                            <th>Actual Stock</th>
                            <th>Difference</th>
                            <th>% Difference</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>LINE-5-1</td>
                            <td>May 15, 2025 6:00 AM - 12:00 PM</td>
                            <td>950</td>
                            <td>920</td>
                            <td class="negative">-30</td>
                            <td class="negative">-3.2%</td>
                            <td>Within Tolerance</td>
                        </tr>
                        <tr>
                            <td>LINE-5-2</td>
                            <td>May 15, 2025 6:00 AM - 12:00 PM</td>
                            <td>850</td>
                            <td>830</td>
                            <td class="negative">-20</td>
                            <td class="negative">-2.4%</td>
                            <td>Within Tolerance</td>
                        </tr>
                        <tr>
                            <td>LINE-7-1</td>
                            <td>May 15, 2025 6:00 AM - 12:00 PM</td>
                            <td>925</td>
                            <td>925</td>
                            <td>0</td>
                            <td>0.0%</td>
                            <td>On Target</td>
                        </tr>
                        <tr>
                            <td>LINE-5-7</td>
                            <td>May 15, 2025 6:00 AM - 12:00 PM</td>
                            <td>780</td>
                            <td>760</td>
                            <td class="negative">-20</td>
                            <td class="negative">-2.6%</td>
                            <td>Within Tolerance</td>
                        </tr>
                        <tr>
                            <td>LINE-7-3</td>
                            <td>May 15, 2025 6:00 AM - 12:00 PM</td>
                            <td>840</td>
                            <td>795</td>
                            <td class="negative">-45</td>
                            <td class="negative">-5.4%</td>
                            <td>Needs Attention</td>
                        </tr>
                        <tr>
                            <td>LINE-7-5</td>
                            <td>May 15, 2025 6:00 AM - 12:00 PM</td>
                            <td>680</td>
                            <td>630</td>
                            <td class="negative">-50</td>
                            <td class="negative">-7.4%</td>
                            <td>Critical</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="page" id="stockAnalysisPage">
            <div class="filters">
                <div class="filter-group">
                    <label for="analysisDate">Date:</label>
                    <input type="date" id="analysisDate" value="2025-05-15">
                </div>
                
                <div class="filter-group">
                    <label for="comparisonType">View:</label>
                    <select id="comparisonType">
                        <option>Department Comparison</option>
                        <option>Daily Trend</option>
                        <option>Weekly Analysis</option>
                    </select>
                </div>
                
                <button id="updateAnalysis">Update Analysis</button>
            </div>
            
            <div class="department-filter">
                <span style="margin-right: 10px;"><strong>Departments:</strong></span>
                <button class="department-btn active">All</button>
                <button class="department-btn">LINE-5 Group</button>
                <button class="department-btn">LINE-7 Group</button>
                <button class="department-btn">Top 5 Performance</button>
                <button class="department-btn">Bottom 5 Performance</button>
            </div>
            
            <div class="chart-container">
                <div class="chart-card">
                    <div class="chart-title">Department Stock Comparison</div>
                    <div class="chart-area">
                        <canvas id="deptComparisonChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <div class="chart-card">
                    <div class="chart-title">Daily Stock Trend (All Departments)</div>
                    <div class="chart-area">
                        <canvas id="dailyTrendChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-card">
                    <div class="chart-title">Stock Accuracy by Department</div>
                    <div class="chart-area">
                        <canvas id="accuracyChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
       // Navigation between pages
document.querySelectorAll('.menu-item').forEach(item => {
    item.addEventListener('click', function() {
        // Remove active class from all menu items
        document.querySelectorAll('.menu-item').forEach(i => {
            i.classList.remove('active');
        });
        
        // Add active class to clicked item
        this.classList.add('active');
        
        // Hide all pages
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active');
        });
        
        // Show the selected page
        const pageId = this.getAttribute('data-page');
        if (pageId) {
            document.getElementById(pageId).classList.add('active');
            
            // Initialize charts for the page if needed
            if (pageId === 'overviewPage') {
                initStockTrendChart();
            } else if (pageId === 'stockAnalysisPage') {
                initDeptComparisonChart();
                initDailyTrendChart();
                initAccuracyChart();
            }
        }
    });
});

// Department button navigation
document.querySelectorAll('.department-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.department-btn').forEach(b => {
            b.classList.remove('active');
        });
        this.classList.add('active');

        initDeptComparisonChart();
        initDailyTrendChart();
        initAccuracyChart();
    });
});

// Initialize Stock Trend Chart
function initStockTrendChart() {
    const ctx = document.getElementById('stockTrendChart').getContext('2d');
    
    // Sample data
    const labels = ['Apr 15', 'Apr 22', 'Apr 29', 'May 06', 'May 13', 'Today'];
    const plannedData = [580, 670, 800, 950, 870, 1030];
    const actualData = [540, 630, 740, 890, 800, 950];
    
    const stockTrendChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: labels,
            datasets: [
                {
                    label: 'Planned Stock',
                    data: plannedData,
                    borderColor: '#0062cc',
                    backgroundColor: 'rgba(0, 98, 204, 0.1)',
                    tension: 0.2,
                    borderWidth: 2,
                    fill: false
                },
                {
                    label: 'Actual Stock',
                    data: actualData,
                    borderColor: '#dc3545',
                    backgroundColor: 'rgba(220, 53, 69, 0.1)',
                    tension: 0.2,
                    borderWidth: 2,
                    fill: false
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                },
                tooltip: {
                    mode: 'index',
                    intersect: false
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Stock Units'
                    }
                }
            }
        }
    });
}

// Initialize Department Comparison Chart
function initDeptComparisonChart() {
    const ctx = document.getElementById('deptComparisonChart').getContext('2d');
    const departments = [
        'LINE-5-1', 'LINE-5-2', 'LINE-5-3', 'LINE-5-4', 'LINE-5-5',
        'LINE-5-6', 'LINE-5-7', 'LINE-5-8', 'LINE-5-9', 'LINE-5-10',
        'LINE-7-1', 'LINE-7-2', 'LINE-7-3', 'LINE-7-4', 'LINE-7-5',
        'LINE-7-6', 'LINE-7-7', 'LINE-7-8', 'LINE-7-9', 'LINE-7-10'
    ];
    const plannedStock = [
        950, 850, 920, 880, 790,
        810, 780, 840, 750, 720,
        925, 880, 840, 910, 680,
        790, 830, 720, 625, 680
    ];
    const actualStock = [
        920, 830, 880, 850, 760,
        790, 760, 820, 730, 700,
        925, 860, 795, 875, 630,
        770, 810, 705, 640, 665
    ];  
    
    const deptComparisonChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: departments,
            datasets: [
                {
                    label: 'Plan Stock',
                    data: plannedStock,
                    backgroundColor: 'rgba(0, 98, 204, 0.7)',
                    borderColor: '#0062cc',
                    borderWidth: 1
                },
                {
                    label: 'Actual Stock',
                    data: actualStock,
                    backgroundColor: 'rgba(220, 53, 69, 0.7)',
                    borderColor: '#dc3545',
                    borderWidth: 1
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                },
                tooltip: {
                    mode: 'index',
                    intersect: false
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Stock Units'
                    }
                },
                x: {
                    ticks: {
                        autoSkip: false,
                        maxRotation: 90,
                        minRotation: 90
                    }
                }
            }
        }
    });
}

// Initialize Daily Trend Chart
function initDailyTrendChart() {
    const ctx = document.getElementById('dailyTrendChart').getContext('2d');
    const dates = ['May 09', 'May 10', 'May 11', 'May 12', 'May 13', 'May 14', 'May 15'];
    const plannedTotal = [15200, 15400, 15300, 15500, 15600, 15700, 15800];
    const actualTotal = [14980, 15250, 15100, 15320, 15420, 15510, 15600];
    
    const dailyTrendChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: dates,
            datasets: [
                {
                    label: 'Planned Total Stock',
                    data: plannedTotal,
                    borderColor: '#0062cc',
                    backgroundColor: 'rgba(0, 98, 204, 0.1)',
                    tension: 0.2,
                    borderWidth: 2,
                    fill: true
                },
                {
                    label: 'Actual Total Stock',
                    data: actualTotal,
                    borderColor: '#dc3545',
                    backgroundColor: 'rgba(220, 53, 69, 0.1)',
                    tension: 0.2,
                    borderWidth: 2,
                    fill: true
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                },
                tooltip: {
                    mode: 'index',
                    intersect: false
                }
            },
            scales: {
                y: {
                    beginAtZero: false,
                    title: {
                        display: true,
                        text: 'Total Stock Units'
                    }
                }
            }
        }
    });
}

// Initialize Accuracy Chart
function initAccuracyChart() {
    const ctx = document.getElementById('accuracyChart').getContext('2d');
    const departments = [
        'LINE-5-1', 'LINE-5-2', 'LINE-7-1', 'LINE-5-3', 'LINE-7-4',
        'LINE-7-2', 'LINE-5-4', 'LINE-7-8', 'LINE-5-8', 'LINE-7-3'
    ];
    const accuracyData = [
        96.8, 97.6, 100.0, 95.7, 96.2,
        97.7, 96.6, 97.9, 97.6, 94.6
    ];
    const backgroundColors = accuracyData.map(value => {
        if (value >= 98) return 'rgba(40, 167, 69, 0.7)';
        if (value >= 95) return 'rgba(255, 193, 7, 0.7)';
        return 'rgba(220, 53, 69, 0.7)';
    });
    
    const accuracyChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: departments,
            datasets: [{
                label: 'Stock Accuracy (%)',
                data: accuracyData,
                backgroundColor: backgroundColors,
                borderColor: backgroundColors.map(color => color.replace('0.7', '1')),
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            return `Accuracy: ${context.raw}%`;
                        }
                    }
                }
            },
            scales: {
                x: {
                    min: 90,
                    max: 100,
                    title: {
                        display: true,
                        text: 'Accuracy (%)'
                    }
                }
            }
        }
    });
}

// Event listeners for buttons
document.getElementById('generateReport').addEventListener('click', function() {
    alert('Report generated for the selected time period');
});

document.getElementById('applyFilters').addEventListener('click', function() {
    alert('Filters applied');
    initStockTrendChart();
});

document.getElementById('updateAnalysis').addEventListener('click', function() {
    alert('Analysis updated for ' + document.getElementById('analysisDate').value);
});

// Initialize charts when page loads
window.addEventListener('load', function() {
    initStockTrendChart();
});
	
    </script>
</body>
</html>